<div align="center">
University: [ITMO University](https://itmo.ru/ru/)

Faculty: [FTMI](https://ftmi.itmo.ru/)

Course: [Cloud platforms as the basis of technology entrepreneurship](https://itmo-ict-faculty.github.io/cloud-platforms-as-the-basis-of-technology-entrepreneurship/) 

Year: 2024/2025

Group: u4225

Author: Pravdivtseva Sofia Yurievna

Lab: Laba2

Date of create: 25.09.2024

Date of finished: 31.09.2024

# Лабораторная работа №2: "Исследование Cloud Run"

## Цель работы:

Ознакомиться с основами сервиса **Google Cloud Run**

## Ход работы:

### 1. Создание сервиса Cloud Run 

Я создала **Google Cloud Console** из представленного дефолтного сервиса Hello.

![0./0.jpg](/laba2/0.png)

### 2. Тестирование работы сервиса

Открыла предоставленный URL в браузере и убедилась, что Cloud Run работает корректно с минимальными ресурсами. Cloud Run запущен.

![1./1.jpg](/laba2/1.png)

### 3. Анализ логов и метрик

#### Просмотр логов
Перешла в раздел **Logs** через интерфейс Cloud Run. Проанализировала логи. Логи не содержали ошибок, что подтверждает корректную работу сервиса. Сервис успешно запущен Запросы Get выполняются успешно, время отклика от 4 до 9 ms.

![2./2.jpg](/laba2/2.png)

#### Анализ метрик

Провела анализ метрик. 

![3./3.jpg](/laba2/3.png)

Среди метрик представлены следующие: количество запросов, задержка запросов, количество экзмепляров контейнера, оплачиваемое время экземпляра контейнера, загрузка ЦП контейнера, использование памяти котнейнера, количество отправленных и полученных байтов, максимальное количество одновременных запросов и задержка запуска контейнера.

![4./4.jpg](/laba2/4.png)

### 4. Изменение порта сервиса

Далее изменила конфигурацию Cloud Run, установив порт 8090, поменяв с 8080. Перезапустила сервис с новой версией. Сервис успешно заработал на новом порте.

![5./5.jpg](/laba2/5.png)

#### Проанализировала логи

![7./7.jpg](/laba2/7.png)

#### Анализ метрик

![8./8.jpg](/laba2/8.png)
![9./9.jpg](/laba2/9.png)

Анализ метрик, представленных на графиках, помогает понять производительность контейнера и состояние приложения. Вот ключевые моменты:
Количество запросов показывает явное снижение в установленные временные моменты. Это может указывать на проблемы с доступностью или изменением в трафике.
Использование памяти поднялось до 4-5%, что больше на 2-3%, но некритично.В остальном пики нагрузки также не наблюдаются, нагрузка на низком уровне, с низкими задержками. Сервис работает стабильно.

### 5.Переключение трафика между версиями

![6./6.jpg](/laba2/6.png)

В разделе Revisions распределила трафик между 50% на версию с портом 8080 и 50% на версию с портом 8090. Выполнила тестовые запросы для проверки распределения трафика между версиями. В логах отразилась работа обеих версий, что подтвердило корректное распределение трафика. 

Сравнение метрик показало, что обе версии обрабатывают запросы одинаково, без значительных различий в производительности.

### Результаты лабораторной работы

В ходе выполнения работы был успешно развернут сервис на Cloud Run;
Проведено тестирование работы сервиса, настройка минимального уровня ресурсов;
Проанализированы логи и метрики, что дало представление о производительности и нагрузке на сервис;
Проверено поведение сервиса при изменении порта — было установлено, что Cloud Run поддерживает работу с портом 8080 по умолчанию;
Проведен эксперимент с переключением трафика между версиями, что продемонстрировало гибкость Cloud Run в управлении трафиком и версиями;

Cloud Run предоставляет мощные возможности для развертывания контейнеризированных приложений с минимальными усилиями и высокой гибкостью в управлении версиями и трафиком. Сервис автоматически масштабируется под нагрузку, при этом сохраняется простота настройки и управления.








